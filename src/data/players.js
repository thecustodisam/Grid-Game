// NBA Top Shot moments data
// Each moment has ONE player, ONE team, ONE tier, and ONE season
export const moments = [
  // LeBron James moments
  { player: "LeBron James", team: "Lakers", tier: "Common", season: "2023-24" },
  { player: "LeBron James", team: "Lakers", tier: "Rare", season: "2022-23" },
  { player: "LeBron James", team: "Lakers", tier: "Legendary", season: "2020-21" },
  { player: "LeBron James", team: "Heat", tier: "Legendary", season: "2020-21" },
  { player: "LeBron James", team: "Cavaliers", tier: "Rare", season: "2021-22" },

  // Anthony Davis moments
  { player: "Anthony Davis", team: "Lakers", tier: "Common", season: "2023-24" },
  { player: "Anthony Davis", team: "Lakers", tier: "Rare", season: "2022-23" },
  { player: "Anthony Davis", team: "Lakers", tier: "Legendary", season: "2020-21" },
  { player: "Anthony Davis", team: "Pelicans", tier: "Common", season: "2021-22" },

  // Stephen Curry moments
  { player: "Stephen Curry", team: "Warriors", tier: "Common", season: "2023-24" },
  { player: "Stephen Curry", team: "Warriors", tier: "Rare", season: "2022-23" },
  { player: "Stephen Curry", team: "Warriors", tier: "Legendary", season: "2021-22" },

  // Klay Thompson moments
  { player: "Klay Thompson", team: "Warriors", tier: "Common", season: "2023-24" },
  { player: "Klay Thompson", team: "Warriors", tier: "Rare", season: "2022-23" },

  // Jayson Tatum moments
  { player: "Jayson Tatum", team: "Celtics", tier: "Common", season: "2023-24" },
  { player: "Jayson Tatum", team: "Celtics", tier: "Rare", season: "2022-23" },
  { player: "Jayson Tatum", team: "Celtics", tier: "Legendary", season: "2021-22" },

  // Jaylen Brown moments
  { player: "Jaylen Brown", team: "Celtics", tier: "Common", season: "2023-24" },
  { player: "Jaylen Brown", team: "Celtics", tier: "Rare", season: "2022-23" },

  // Luka Doncic moments
  { player: "Luka Doncic", team: "Mavericks", tier: "Common", season: "2023-24" },
  { player: "Luka Doncic", team: "Mavericks", tier: "Rare", season: "2022-23" },
  { player: "Luka Doncic", team: "Mavericks", tier: "Legendary", season: "2021-22" },

  // Kyrie Irving moments
  { player: "Kyrie Irving", team: "Mavericks", tier: "Common", season: "2023-24" },
  { player: "Kyrie Irving", team: "Nets", tier: "Rare", season: "2021-22" },
  { player: "Kyrie Irving", team: "Celtics", tier: "Legendary", season: "2020-21" },

  // Giannis Antetokounmpo moments
  { player: "Giannis Antetokounmpo", team: "Bucks", tier: "Common", season: "2023-24" },
  { player: "Giannis Antetokounmpo", team: "Bucks", tier: "Rare", season: "2022-23" },
  { player: "Giannis Antetokounmpo", team: "Bucks", tier: "Legendary", season: "2020-21" },

  // Damian Lillard moments
  { player: "Damian Lillard", team: "Bucks", tier: "Common", season: "2023-24" },
  { player: "Damian Lillard", team: "Trail Blazers", tier: "Rare", season: "2022-23" },
  { player: "Damian Lillard", team: "Trail Blazers", tier: "Legendary", season: "2020-21" },

  // Joel Embiid moments
  { player: "Joel Embiid", team: "76ers", tier: "Common", season: "2023-24" },
  { player: "Joel Embiid", team: "76ers", tier: "Rare", season: "2022-23" },
  { player: "Joel Embiid", team: "76ers", tier: "Legendary", season: "2021-22" },

  // Nikola Jokic moments
  { player: "Nikola Jokic", team: "Nuggets", tier: "Common", season: "2023-24" },
  { player: "Nikola Jokic", team: "Nuggets", tier: "Rare", season: "2022-23" },
  { player: "Nikola Jokic", team: "Nuggets", tier: "Legendary", season: "2021-22" },

  // Jamal Murray moments
  { player: "Jamal Murray", team: "Nuggets", tier: "Common", season: "2023-24" },
  { player: "Jamal Murray", team: "Nuggets", tier: "Rare", season: "2022-23" },

  // Kevin Durant moments
  { player: "Kevin Durant", team: "Suns", tier: "Common", season: "2023-24" },
  { player: "Kevin Durant", team: "Nets", tier: "Rare", season: "2021-22" },
  { player: "Kevin Durant", team: "Warriors", tier: "Legendary", season: "2020-21" },

  // Devin Booker moments
  { player: "Devin Booker", team: "Suns", tier: "Common", season: "2023-24" },
  { player: "Devin Booker", team: "Suns", tier: "Rare", season: "2022-23" },
  { player: "Devin Booker", team: "Suns", tier: "Legendary", season: "2021-22" },

  // Jimmy Butler moments
  { player: "Jimmy Butler", team: "Heat", tier: "Common", season: "2023-24" },
  { player: "Jimmy Butler", team: "Heat", tier: "Rare", season: "2022-23" },
  { player: "Jimmy Butler", team: "76ers", tier: "Legendary", season: "2020-21" },

  // Additional stars
  { player: "Trae Young", team: "Hawks", tier: "Common", season: "2023-24" },
  { player: "Trae Young", team: "Hawks", tier: "Rare", season: "2022-23" },
  { player: "Donovan Mitchell", team: "Cavaliers", tier: "Common", season: "2023-24" },
  { player: "Donovan Mitchell", team: "Cavaliers", tier: "Rare", season: "2022-23" },
  { player: "Zion Williamson", team: "Pelicans", tier: "Common", season: "2023-24" },
  { player: "Ja Morant", team: "Grizzlies", tier: "Rare", season: "2023-24" },
  { player: "Shai Gilgeous-Alexander", team: "Thunder", tier: "Common", season: "2023-24" },
  { player: "Kawhi Leonard", team: "Clippers", tier: "Rare", season: "2023-24" },
  { player: "Paul George", team: "Clippers", tier: "Common", season: "2023-24" },
];

// Get unique list of players for search
export const getUniquePlayers = () => {
  const playerNames = new Set(moments.map(m => m.player));
  return Array.from(playerNames).sort();
};

// Check if a player has moments matching both criteria
// The player needs at least one moment matching the row AND at least one matching the column
// These can be different moments (e.g., Lakers moment + Heat moment = valid for Lakers Ã— Heat)
export const playerHasMatchingMoment = (playerName, rowCategory, colCategory) => {
  const playerMoments = moments.filter(m => m.player === playerName);

  // Check if player has at least one moment matching the row category
  const hasRowMatch = playerMoments.some(moment =>
    moment.team === rowCategory ||
    moment.tier === rowCategory ||
    moment.season === rowCategory
  );

  // Check if player has at least one moment matching the column category
  const hasColMatch = playerMoments.some(moment =>
    moment.team === colCategory ||
    moment.tier === colCategory ||
    moment.season === colCategory
  );

  // Valid if player has moments matching BOTH categories (can be different moments)
  return hasRowMatch && hasColMatch;
};

// Get all players with moments matching specific criteria
export const getMatchingPlayers = (rowCategory, colCategory) => {
  const uniquePlayers = getUniquePlayers();
  return uniquePlayers.filter(playerName =>
    playerHasMatchingMoment(playerName, rowCategory, colCategory)
  );
};
